#!/usr/bin/env node

const program = require('commander');

program
  .usage('<command> [options]')
  .option('-v --version', 'output the version number', version)
  .option('-w --watch', 'watch the file change')
  .option('-s --server', 'start webpack dev server')
  .option('-o --optimize', 'optimize css or js files')
  .options('-d --dist', 'output path')
  .option('-p --port', 'server port', parseInt)

function version() {
	console.log(require('../package.json').version)
}

program.command('build')
	.alias('b')
	.description('build the project')
	.action(() => {
		require('../lib/build')(program)
	})
program.command('create <project-name> <template>')
	.alias('c')
	.description('init the project')
	.action((project, template) => {
		require('../lib/create')(project, template)
	})
program.parse(process.argv);
